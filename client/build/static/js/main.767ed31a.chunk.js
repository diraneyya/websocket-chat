(this.webpackJsonpwebSocketClient=this.webpackJsonpwebSocketClient||[]).push([[0],{100:function(e,t,a){e.exports=a(101)},101:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(95),s=a(87),r=a(88),o=a(98),c=a(96),i=a(33),l=a.n(i),u=a(0),m=a.n(u),d=a(89),g=a(182),p=a(181),f=a(99),h=a(183),S=(a(109),a(110),g.a.Search),v=p.a.Text,E=f.a.Meta,y=Object({NODE_ENV:"production",PUBLIC_URL:"/chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT||3e3,b=new d.w3cwebsocket("ws://127.0.0.1:".concat(y)),C=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userName:"",isLoggedIn:!1,messages:[]},e.onButtonClicked=function(t){b.send(JSON.stringify({type:"message",msg:t,user:e.state.userName})),e.setState({searchVal:""})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.onopen=function(){console.log("WebSocket Client Connected")},b.onmessage=function(t){var a=JSON.parse(t.data);console.log("got reply! ",a),"message"===a.type&&e.setState((function(e){return{messages:[].concat(Object(n.a)(e.messages),[{msg:a.msg,user:a.user}])}}))}}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"main",id:"wrapper"},this.state.isLoggedIn?m.a.createElement("div",null,m.a.createElement("div",{className:"title"},m.a.createElement(v,{id:"main-heading",type:"secondary",style:{fontSize:"36px"}},"Websocket Chat: ",this.state.userName)),m.a.createElement("div",{style:{display:"flex",flexDirection:"column",paddingBottom:50},id:"messages"},this.state.messages.map((function(t){return m.a.createElement(f.a,{key:t.msg,style:{width:300,margin:"16px 4px 0 4px",alignSelf:e.state.userName===t.user?"flex-end":"flex-start"},loading:!1},m.a.createElement(E,{avatar:m.a.createElement(h.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},t.user[0].toUpperCase()),title:t.user+":",description:t.msg}))}))),m.a.createElement("div",{className:"bottom"},m.a.createElement(S,{placeholder:"input message and send",enterButton:"Send",value:this.state.searchVal,size:"large",onChange:function(t){return e.setState({searchVal:t.target.value})},onSearch:function(t){return e.onButtonClicked(t)}}))):m.a.createElement("div",{style:{padding:"200px 40px"}},m.a.createElement(S,{placeholder:"Enter Username",enterButton:"Login",size:"large",onSearch:function(t){return e.setState({isLoggedIn:!0,userName:t})}})))}}]),a}(u.Component);l.a.render(m.a.createElement(C,null),document.getElementById("root"))},110:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.767ed31a.chunk.js.map